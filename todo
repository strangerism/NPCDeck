ideas for archetypes

- medic
    * defibrillate   
- trapper
    * aoe tracking
    * echolocation: aoe tracking near monsters as long as they are visible. excluding invisible monsters
    * track: tracks nearby smarts to create heatmaps
    * dersu spirit: chance to spawn a ghost pseudodog during an encounter  
- arena master
    * extra ammo, smuggled gun, chance to join with you
- smuggler
    - enable trade with npc, black market discount 
- diplomat
    - can talk with everyone, change alliance of 1 random npc in encounters 
    - increase intimidation chance
    - chance for an enemy to turn friendly during combat for a time
- radioman
    - can radio anyone (no friendship required)
- courier
    - can carry stuff for you
- guide
    - avoid random encounter, decreses travel cd, decreases travel cost
- brawler
    - distract npc with aggro
- scout
    - scout: leaves squad to go scout random smarts and meet at near friendly base?
    - awareness: aoe mark in (previous visited?) smarts location of all item of interests  


stuff to do
- 
- rework squad ranking (min or max npc rank based instead of section)
- add npc identification widget
- rework notifications (new profile, npc joined, npc leaves)
- remove old input management
- add mcm always_register?
- check correct usage of objects_id instead of passing objects
- module_mcm must update npdc.perk from mcm settings changes (keybind, stats done - anything else?)
- implement enable NPCD
- implements enable/uninstall modules
- add npc stats (power, recovery)
- add active feat to use npc power
- add power consumption to feat stat
- add power regen ??? 
- add activation (seconds) stat to feat
- add ACTIVATING state to feat
- add MODAL to feat type
- add npcd logging to mp patcher script
- refactor logging boot sequence using the game_play_start event in npcd_manager
- refactor npcd_actionbar to be standalone and pluggable
- refactor npcd_logging to be standalone and pluggable

addons to look

function for locating npc and to be used in lastseen
https://discord.com/channels/961738167139049472/961738168162484317/1417243927773319278

```lua
local my_smarts = {some list of smart section}
    function get_nearest_smart_id(squad)
    local dist
    local min_dist
    local nearest
    
    for _,smart_sec in ipairs( my_smarts) do
            local smart = SIMBOARD.smarts_by_names[smart_sec]
        local dist = smart.position:distance_to_sqr(squad.position)
        if (not min_dist) then
            min_dist = dist
            nearest = smart
        elseif (dist < min_dist) then
            min_dist = dist
            nearest = smart
        end
    end
    if (nearest) then
        if (simulation_objects.is_on_the_same_level(nearest, squad)) then
            return nearest.id
        end
    end
end
```

- https://www.moddb.com/mods/stalker-anomaly/addons/anomaly-rpg-1-3
- https://www.moddb.com/mods/stalker-anomaly/addons/monster-world



bugs
